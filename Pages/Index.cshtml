@page "/{urlyear:int}"
@model IndexModel
@{
    ViewData["Title"] = "Acid december";
    ViewData["Description"] = "Acid for the month of December and beyond!";
    ViewData["ImageLink"] =
    "https://storage.googleapis.com/acid-december2012/2023/_57b26574-11c6-4b6a-84d7-de0789a3c33a.jpeg";
    var year = RouteData?.Values["urlyear"]?.ToString() ?? "2025";
}

<div class="text-center container">
    <h1>Acid December</h1>
    <h2>@year</h2>
    <div class="container">

        <div class="row">


            @if (Model.SongOfTheDay != null)
            {
                <div class="col-6">

                </div>
                <div class="col-12">

                    <h2>Track of the day</h2>
                    <h1>@Model.SongOfTheDay.Id</h1>
                    <a href="/2025/@Model.SongOfTheDay.Id">
                        <!-- make this image as wide as the container -->
                        <img class="img-fluid"
                            src="https://storage.googleapis.com/acid-december2012/2025/@Model.SongOfTheDay.ImageLink" />
                        <h2>@Model.SongOfTheDay.Title</h2>
                        <h3>@Model.SongOfTheDay.Artist</h3>
                    </a>
                    <audio controls>
                        <source src="https://storage.googleapis.com/acid-december2012/2025/@Model.SongOfTheDay.Tune">
                    </audio>


                </div>
            }
            <div class="col-12">
            <h3>Let us hear your sounds!</h3>
                <p> <br /><br />
                    The Portal is Open: Transmit all audio files to the secure terminal over email to
                    <b>acid@datapop.se</b>. The email
                    shall contain a downloadable track, a title, an artist name, an image and a link to your interwebz
                    <br /><br />
                    Send us your squelching basslines, your hypnotic sequences, your glitched-out dreams. Send us the
                    sound
                    of a robot
                    weeping in a rainstorm. Send us the pulse of a forgotten satellite. Send us acid.
                    <br /><br />
                </p>
            </div>

            @foreach (var song in Model?.Songs)
            {

                <div class="song">
                    <a href="/@Model.Year/@song.Id">
                        <h2>@song.Id</h2>
                        <p>
                            @if (song.ImageLink != null)
                            {
                                <img class="float-start  border-dark img-thumbnail"
                                    src="https://storage.googleapis.com/acid-december2012/@Model.Year/@song.ImageLink" />
                            }
                     
                            <h3>@song.Artist</h3>
                            <h3>@song.Title</h3>
                            @if (@song.Artistlink != "")
                            {
                                <h3><a href="https://@song.Artistlink">Link</a></h3>
                            }
                        </p>
                    </a>
                </div>
            }
        </div>
    </div>